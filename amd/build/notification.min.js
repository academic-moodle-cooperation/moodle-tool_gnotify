define("tool_gnotify/notification",["exports","core/ajax","core/log","core/pending"],(function(_exports,_ajax,_log,_pending){Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=_exports.default=_exports.acknowledge=void 0,_ajax=_interopRequireDefault(_ajax),_log=_interopRequireDefault(_log),_pending=_interopRequireDefault(_pending);var _systemImportTransformerGlobalIdentifier="undefined"!=typeof window?window:"undefined"!=typeof self?self:"undefined"!=typeof global?global:{};function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}const init=async uid=>{let gnotify=document.querySelector("#".concat(uid)),context=JSON.parse(gnotify.dataset.gnotify);const pendingPromise=new _pending.default("gnotfiy-render"),Templates=await("function"==typeof _systemImportTransformerGlobalIdentifier.define&&_systemImportTransformerGlobalIdentifier.define.amd?new Promise((function(resolve,reject){_systemImportTransformerGlobalIdentifier.require(["core/templates"],resolve,reject)})):"undefined"!=typeof module&&module.exports&&"undefined"!=typeof require||"undefined"!=typeof module&&module.component&&_systemImportTransformerGlobalIdentifier.require&&"component"===_systemImportTransformerGlobalIdentifier.require.loader?Promise.resolve(require("core/templates")):Promise.resolve(_systemImportTransformerGlobalIdentifier["core/templates"]));Templates.renderForPromise("tool_gnotify/notifications",context).then((_ref=>{let{html:html,js:js=""}=_ref;Templates.prependNodeContents("#page",html,js)})).then(pendingPromise.resolve).fail((_ref2=>{let{ex:ex}=_ref2;_log.default.error(ex.message)}))};_exports.init=init;const acknowledge=id=>{document.getElementById(id+"-gnotify-wrapper").hidden=!0;const request={methodname:"tool_gnotify_acknowledge_notification",args:{id:id}};_ajax.default.call([request])[0].done()};_exports.acknowledge=acknowledge;var _default={init:init,acknowledge:acknowledge};return _exports.default=_default,_exports.default}));

//# sourceMappingURL=notification.min.js.map