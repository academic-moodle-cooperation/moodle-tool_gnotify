define ("tool_gnotify/notification",["exports","core/ajax","core/log","core/pending"],function(a,b,c,d){"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.default=a.acknowledge=a.init=void 0;b=e(b);c=e(c);d=e(d);var h="undefined"!=typeof window?window:"undefined"!=typeof self?self:"undefined"!=typeof global?global:{};function e(a){return a&&a.__esModule?a:{default:a}}function f(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(a){c(a);return}if(h.done){b(i)}else{Promise.resolve(i).then(d,e)}}function g(a){return function(){var b=this,c=arguments;return new Promise(function(d,e){var i=a.apply(b,c);function g(a){f(i,d,e,g,h,"next",a)}function h(a){f(i,d,e,g,h,"throw",a)}g(void 0)})}}var i=function(){var a=g(regeneratorRuntime.mark(function a(b){var e,f,g,i;return regeneratorRuntime.wrap(function(a){while(1){switch(a.prev=a.next){case 0:e=document.querySelector("#".concat(b));f=JSON.parse(e.dataset.gnotify);g=new d.default("gnotfiy-render");a.next=5;return"function"==typeof h.define&&h.define.amd?new Promise(function(a,b){h.require(["core/templates"],a,b)}):"undefined"!=typeof module&&module.exports&&"undefined"!=typeof require||"undefined"!=typeof module&&module.component&&h.require&&"component"===h.require.loader?Promise.resolve(require(("core/templates"))):Promise.resolve(h["core/templates"]);case 5:i=a.sent;i.renderForPromise("tool_gnotify/notifications",f).then(function(a){var b=a.html,c=a.js,d=void 0===c?"":c;i.prependNodeContents("#page",b,d)}).then(g.resolve).fail(function(a){var b=a.ex;c.default.error(b.message)});case 7:case"end":return a.stop();}}},a)}));return function(){return a.apply(this,arguments)}}();a.init=i;var j=function(a){var c=document.getElementById(a+"-gnotify-wrapper");c.hidden=!0;b.default.call([{methodname:"tool_gnotify_acknowledge_notification",args:{id:a}}])[0].done()};a.acknowledge=j;a.default={init:i,acknowledge:j};return a.default});
//# sourceMappingURL=notification.min.js.map
