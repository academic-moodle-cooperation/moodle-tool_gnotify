{"version":3,"sources":["../src/notification.js"],"names":["define","$","init","context","require","templates","render","then","html","js","prependNodeContents","fail","ex","setBody","message","fn","tool_gnotify_acknowledge_notification","$id","notification","document","getElementById","hidden","ajax","promises","call","methodname","args","id","done"],"mappings":"AAAAA,OAAM,6BAAC,CAAC,QAAD,CAAD,CAAa,SAAUC,CAAV,CAAa,CAC5B,MAAO,CACHC,IAAI,CAAE,cAAUC,CAAV,CAAmB,CAWrBC,OAAO,CAAC,CAAC,gBAAD,CAAD,CAAqB,SAAUC,CAAV,CAAqB,CAG7CF,CAAO,cAAP,CAA2BA,CAA3B,CACAE,CAAS,CAACC,MAAV,CAAiB,4BAAjB,CAA+CH,CAA/C,EAEKI,IAFL,CAEU,SAAUC,CAAV,CAAgBC,CAAhB,CAAoB,CAGtBJ,CAAS,CAACK,mBAAV,CAA8B,OAA9B,CAAuCF,CAAvC,CAA6CC,CAA7C,CACH,CANL,EAMOE,IANP,CAMY,SAAUC,CAAV,CAAc,CACtBP,CAAS,CAACQ,OAAV,CAAkBD,CAAE,CAACE,OAArB,CACH,CARD,CASH,CAbM,CAAP,CAcAb,CAAC,CAACc,EAAF,CAAKC,qCAAL,CAA6C,SAAUC,CAAV,CAAe,CACxD,GAAIC,CAAAA,CAAY,CAAGC,QAAQ,CAACC,cAAT,CAAwBH,CAAG,CAAG,UAA9B,CAAnB,CACAC,CAAY,CAACG,MAAb,IACAjB,OAAO,CAAC,CAAC,WAAD,CAAD,CAAgB,SAAUkB,CAAV,CAAgB,CACnC,GAAIC,CAAAA,CAAQ,CAAGD,CAAI,CAACE,IAAL,CAAU,CACrB,CAACC,UAAU,CAAE,sCAAb,CAAqDC,IAAI,CAAE,CAACC,EAAE,CAAEV,CAAL,CAA3D,CADqB,CAAV,CAAf,CAGAM,CAAQ,CAAC,CAAD,CAAR,CAAYK,IAAZ,EACH,CALM,CAMV,CACJ,CApCE,CAsCV,CAvCK,CAAN","sourcesContent":["define(['jquery'], function ($) {\n    return {\n        init: function (context) {\n            //var element = document.getElementById('page');\n            //var notifications = document.createElement('div');\n            //notifications.id = 'tool-gnotify';\n            //if (sticky === \"1\") {\n            //    notifications.className = 'row notification-sticky';\n            //} else {\n            //    notifications.className = 'row notification-relative';\n            //}\n            //notifications.className = 'row';\n            //element.insertBefore(notifications, element.firstChild);\n            require(['core/templates'], function (templates) {\n                // This will be the context for our template. So {{name}} in the template will resolve to \"Tweety bird\".\n                // This will call the function to load and render our template.\n                context['notifications'] = context;\n                templates.render('tool_gnotify/notifications', context)\n                // It returns a promise that needs to be resoved.\n                    .then(function (html, js) {\n                        // Here eventually I have my compiled template, and any javascript that it generated.\n                        // The templates object has append, prepend and replace functions.\n                        templates.prependNodeContents('#page', html, js);\n                    }).fail(function (ex) {\n                    templates.setBody(ex.message);\n                });\n            });\n            $.fn.tool_gnotify_acknowledge_notification = function ($id) {\n                var notification = document.getElementById($id + '-gnotify');\n                notification.hidden = true;\n                require(['core/ajax'], function (ajax) {\n                    var promises = ajax.call([\n                        {methodname: 'tool_gnotify_acknoledge_notification', args: {id: $id}}\n                    ]);\n                    promises[0].done();\n                });\n            };\n        }\n    };\n});\n"],"file":"notification.min.js"}